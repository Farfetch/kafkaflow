"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[71],{28453:(e,n,a)=>{a.d(n,{R:()=>c,x:()=>s});var o=a(96540);const r={},i=o.createContext(r);function c(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),o.createElement(i.Provider,{value:n},e.children)}},35142:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>f,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var o=a(74848),r=a(28453);const i={sidebar_position:2},c="From v3 to v4",s={id:"guides/migration/from-v3-to-v4",title:"From v3 to v4",description:"KafkaFlow version 4 introduces the latest Confluent.Kafka package and upgrades to .NET 8. This guide will help you navigate the migration process from version 3 to version 4.",source:"@site/docs/guides/migration/from-v3-to-v4.md",sourceDirName:"guides/migration",slug:"/guides/migration/from-v3-to-v4",permalink:"/kafkaflow/docs/guides/migration/from-v3-to-v4",draft:!1,unlisted:!1,editUrl:"https://github.com/farfetch/kafkaflow/tree/master/website/docs/guides/migration/from-v3-to-v4.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"From v2 to v3",permalink:"/kafkaflow/docs/guides/migration/from-v2-to-v3"},next:{title:"Reference",permalink:"/kafkaflow/docs/category/reference"}},t={},l=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Update package references",id:"update-package-references",level:2},{value:"Breaking Changes / Improvements",id:"breaking-changes--improvements",level:2},{value:"1. Update to .NET 8 with Admin Packages",id:"1-update-to-net-8-with-admin-packages",level:3},{value:"2. Update <code>Confluent.*</code> from <code>2.1.1</code> to <code>2.8.0</code>",id:"2-update-confluent-from-211-to-280",level:3},{value:"Conclusion",id:"conclusion",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"from-v3-to-v4",children:"From v3 to v4"}),"\n",(0,o.jsx)(n.p,{children:"KafkaFlow version 4 introduces the latest Confluent.Kafka package and upgrades to .NET 8. This guide will help you navigate the migration process from version 3 to version 4."}),"\n",(0,o.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#prerequisites",children:"Prerequisites"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#update-package-references",children:"Update package references"})}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"#breaking-changes--improvements",children:"Breaking Changes / Improvements"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#1-update-to-net-8-with-admin-packages",children:"1. Update to .NET 8 with Admin Packages"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsxs)(n.a,{href:"#2-update-confluent-from-211-to-280",children:["2. Update ",(0,o.jsx)(n.code,{children:"Confluent.*"})," from ",(0,o.jsx)(n.code,{children:"2.1.1"})," to ",(0,o.jsx)(n.code,{children:"2.8.0"})]})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"#conclusion",children:"Conclusion"})}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(n.p,{children:["As .NET Core 6 has reached the end of support in its lifecycle, we have updated references to Core Packages (",(0,o.jsx)(n.code,{children:"Microsoft.*"})," and ",(0,o.jsx)(n.code,{children:"System.*"}),") to version 8."]}),"\n",(0,o.jsxs)(n.p,{children:["While the KafkaFlow core and most of the extension packages are still targeting ",(0,o.jsx)(n.code,{children:"netstandard2.0"})," which supports a range of runtimes, we recommend with this v4 update to target at least .NET 8 in applications using KafkaFlow."]}),"\n",(0,o.jsx)(n.h2,{id:"update-package-references",children:"Update package references"}),"\n",(0,o.jsxs)(n.p,{children:["To update to KafkaFlow v4, change the ",(0,o.jsx)(n.code,{children:"Version"})," related to KafkaFlow packages to the latest v4 available in each project referencing KafkaFlow packages."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'<ItemGroup>\n-   <PackageReference Include="KafkaFlow" Version="3.1.0" />\n-   <PackageReference Include="KafkaFlow.Abstractions" Version="3.1.0" />\n-   <PackageReference Include="KafkaFlow.Admin" Version="3.1.0" />\n-   <PackageReference Include="KafkaFlow.Admin.Dashboard" Version="3.1.0" />\n-   <PackageReference Include="KafkaFlow.Admin.WebApi" Version="3.1.0" />\n-   <PackageReference Include="KafkaFlow.Compressor.Gzip" Version="3.1.0" />\n-   <PackageReference Include="KafkaFlow.Extensions.Hosting" Version="3.1.0" />\n-   <PackageReference Include="KafkaFlow.LogHandler.Console" Version="3.1.0" />\n-   <PackageReference Include="KafkaFlow.LogHandler.Microsoft" Version="3.1.0" />\n-   <PackageReference Include="KafkaFlow.Microsoft.DependencyInjection" Version="3.1.0" />\n-   <PackageReference Include="KafkaFlow.OpenTelemetry" Version="3.1.0" />\n-   <PackageReference Include="KafkaFlow.SchemaRegistry" Version="3.1.0" />\n-   <PackageReference Include="KafkaFlow.Serializer.JsonCore" Version="3.1.0" />\n-   <PackageReference Include="KafkaFlow.Serializer.NewtonsoftJson" Version="3.1.0" />\n-   <PackageReference Include="KafkaFlow.Serializer.ProtobufNet" Version="3.1.0" />\n-   <PackageReference Include="KafkaFlow.Serializer.SchemaRegistry.ConfluentAvro" Version="3.1.0" />\n-   <PackageReference Include="KafkaFlow.Serializer.SchemaRegistry.ConfluentJson" Version="3.1.0" />\n-   <PackageReference Include="KafkaFlow.Serializer.SchemaRegistry.ConfluentProtobuf" Version="3.1.0" />\n-   <PackageReference Include="KafkaFlow.Unity" Version="3.1.0" />\n\n+   <PackageReference Include="KafkaFlow" Version="4.0.0" />\n+   <PackageReference Include="KafkaFlow.Abstractions" Version="4.0.0" />\n+   <PackageReference Include="KafkaFlow.Admin" Version="4.0.0" />\n+   <PackageReference Include="KafkaFlow.Admin.Dashboard" Version="4.0.0" />\n+   <PackageReference Include="KafkaFlow.Admin.WebApi" Version="4.0.0" />\n+   <PackageReference Include="KafkaFlow.Compressor.Gzip" Version="4.0.0" />\n+   <PackageReference Include="KafkaFlow.Extensions.Hosting" Version="4.0.0" />\n+   <PackageReference Include="KafkaFlow.LogHandler.Console" Version="4.0.0" />\n+   <PackageReference Include="KafkaFlow.LogHandler.Microsoft" Version="4.0.0" />\n+   <PackageReference Include="KafkaFlow.Microsoft.DependencyInjection" Version="4.0.0" />\n+   <PackageReference Include="KafkaFlow.OpenTelemetry" Version="4.0.0" />\n+   <PackageReference Include="KafkaFlow.SchemaRegistry" Version="4.0.0" />\n+   <PackageReference Include="KafkaFlow.Serializer.JsonCore" Version="4.0.0" />\n+   <PackageReference Include="KafkaFlow.Serializer.NewtonsoftJson" Version="4.0.0" />\n+   <PackageReference Include="KafkaFlow.Serializer.ProtobufNet" Version="4.0.0" />\n+   <PackageReference Include="KafkaFlow.Serializer.SchemaRegistry.ConfluentAvro" Version="4.0.0" />\n+   <PackageReference Include="KafkaFlow.Serializer.SchemaRegistry.ConfluentJson" Version="4.0.0" />\n+   <PackageReference Include="KafkaFlow.Serializer.SchemaRegistry.ConfluentProtobuf" Version="4.0.0" />\n+   <PackageReference Include="KafkaFlow.Unity" Version="4.0.0" />\n</ItemGroup>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"breaking-changes--improvements",children:"Breaking Changes / Improvements"}),"\n",(0,o.jsx)(n.p,{children:"The update to v4 introduces some breaking changes. Please consider them when updating KafkaFlow."}),"\n",(0,o.jsx)(n.h3,{id:"1-update-to-net-8-with-admin-packages",children:"1. Update to .NET 8 with Admin Packages"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["Related Issues: ",(0,o.jsx)(n.a,{href:"https://github.com/Farfetch/kafkaflow/issues/612",children:"#612"})]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["The target frameworks for ASP.NET Admin projects have been updated from ",(0,o.jsx)(n.code,{children:".net6.0"})," to ",(0,o.jsx)(n.code,{children:".net8.0"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["If you are using the Admin packages (",(0,o.jsx)(n.code,{children:"KafkaFlow.Admin.Dashboard"})," and ",(0,o.jsx)(n.code,{children:"KafkaFlow.Admin.WebApi"}),"), you must target the .NET 8 runtime."]}),"\n",(0,o.jsxs)(n.h3,{id:"2-update-confluent-from-211-to-280",children:["2. Update ",(0,o.jsx)(n.code,{children:"Confluent.*"})," from ",(0,o.jsx)(n.code,{children:"2.1.1"})," to ",(0,o.jsx)(n.code,{children:"2.8.0"})]}),"\n",(0,o.jsxs)(n.p,{children:["All ",(0,o.jsx)(n.code,{children:"Confluent.*"})," packages have been updated. No breaking changes are expected, but it is recommended to check the release notes for potential impacts: ",(0,o.jsx)(n.a,{href:"https://github.com/confluentinc/confluent-kafka-dotnet/releases",children:"Confluent Kafka Release Notes"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,o.jsxs)(n.p,{children:["Please ensure you review and adapt your codebase according to these changes. If you encounter any issues or need assistance, feel free to ",(0,o.jsx)(n.a,{href:"https://github.com/Farfetch/kafkaflow#get-in-touch",children:"reach out"})," to the KafkaFlow community."]}),"\n",(0,o.jsx)(n.p,{children:"Thank you for using KafkaFlow!"})]})}function f(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);